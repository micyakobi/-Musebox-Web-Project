@model IEnumerable<Musebox_Web_Project.Models.Product>

@{
    ViewData["Title"] = "Catalog";
    Layout = "_Layout";
}

<script src="~/js/store.js"></script>

<section id="portfolio" class="portfolio">

    <div class="container">

        <div class="section-title">
            <span>Catalog</span>
            <h2>Catalog</h2>
            <p>Browse through our products!</p>
        </div>

        <div class="row aos-init" data-aos="fade-up">
            <div class="col-lg-12 d-flex justify-content-center">
                <div class="s01">
                    <form asp-action="FilterSearchCatalog">
                        <div class="inner-form">
                            <div class="input-field second-wrap">
                                <input name="name" placeholder="Name">
                            </div>
                            <div class="input-field second-wrap">
                                <input name="price" placeholder="Price">
                            </div>
                            <div class="input-field second-wrap">
                                <input name="type" placeholder="Type">
                            </div>
                            <div class="input-field second-wrap">
                                <input name="brand" placeholder="Brand">
                            </div>
                            <div class="input-field third-wrap">
                                <button class="btn-search" type="submit">Search</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>


        <div class="row aos-init" data-aos="fade-up">
            <div class="col-lg-12 d-flex justify-content-center">
                <ul id="portfolio-flters">
                    <li data-filter="*" class="">All</li>
                    <li data-filter=".filter-app" class="">Guitars</li>
                    <li data-filter=".filter-card" class="">Effects</li>
                    <li data-filter=".filter-web" class="">Amplifiers</li>
                </ul>
            </div>
        </div>

        <div class="row portfolio-container aos-init" height: 263.188px;">

            @foreach (var item in Model)
            {
                @if (item.ProductType.Contains("Guitar"))
                {
                    <div class="col-lg-4 col-md-6 portfolio-item filter-app" style="position: absolute; left: 0px; top: 0px;">
                        @if (item.Image != null)
                        {
                            string img = Convert.ToBase64String(item.Image);
                            <img src="data:image/png;base64,@img" class="img-fluid" alt="">
                        }
                        else
                        {
                            <img src="~/img/Products/Guitars/Suhr - Classic S SSS, Sonic Blue.jpg" class="img-fluid" alt="">

                        }
                        <div class="portfolio-info">
                            <h5 id="shop-item-title">@Html.DisplayFor(modelItem => item.Brand.BrandName) - @Html.DisplayFor(modelItem => item.ProductName)</h5>
                            <p>@Html.DisplayFor(modelItem => item.ProductPrice) $</p>
                            @if (Context.User.IsInRole("Customer"))
                            {
                                <a href="@Url.Action("AddToCart", "Users", new { productId = item.ProductId})" class="details-link" title="Add to Cart"><i class="bx bx-plus shop-item-button"></i></a>
                            }
                        </div>
                    </div>
                }
                else if (item.ProductType.Contains("Effect"))
                {
                    <div class="col-lg-4 col-md-6 portfolio-item filter-card" style="position: absolute; left: 0px; top: 0px;">
                        @if (item.Image != null)
                        {
                            string img = Convert.ToBase64String(item.Image);
                            <img src="data:image/png;base64,@img" class="img-fluid" alt="">
                        }
                        else
                        {
                            <img src="~/img/Products/Guitars/Suhr - Classic S SSS, Sonic Blue.jpg" class="img-fluid" alt="">

                        }
                        <div class="portfolio-info">
                            <h5 id="shop-item-title">@Html.DisplayFor(modelItem => item.Brand.BrandName) - @Html.DisplayFor(modelItem => item.ProductName)</h5>
                            <p>@Html.DisplayFor(modelItem => item.ProductPrice) $</p>
                            @if (Context.User.IsInRole("Customer"))
                            {
                                <a href="@Url.Action("AddToCart", "Users", new { productId = item.ProductId})" class="details-link" title="Add to Cart"><i class="bx bx-plus shop-item-button"></i></a>
                            }
                        </div>
                    </div>
                }
                else if (item.ProductType.Contains("Amp"))
                {
                    <div class="col-lg-4 col-md-6 portfolio-item filter-web" style="position: absolute; left: 0px; top: 0px;">
                        @if (item.Image != null)
                        {
                            string img = Convert.ToBase64String(item.Image);
                            <img src="data:image/png;base64,@img" class="img-fluid" alt="">
                        }
                        else
                        {
                            <img src="~/img/Products/Guitars/Suhr - Classic S SSS, Sonic Blue.jpg" class="img-fluid" alt="">

                        }
                        <div class="portfolio-info">
                            <h5 id="shop-item-title">@Html.DisplayFor(modelItem => item.Brand.BrandName) - @Html.DisplayFor(modelItem => item.ProductName)</h5>
                            <p>@Html.DisplayFor(modelItem => item.ProductPrice) $</p>
                            @if (Context.User.IsInRole("Customer"))
                            {
                                <a href="@Url.Action("AddToCart", "Users", new { productId = item.ProductId})" class="details-link" title="Add to Cart"><i class="bx bx-plus shop-item-button"></i></a>
                            }
                        </div>
                    </div>
                }
            }

        </div>

    </div>

</section>

